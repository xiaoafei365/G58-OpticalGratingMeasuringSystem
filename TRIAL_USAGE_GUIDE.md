# 光学光栅测量系统 - 试用期功能使用指南

## 🎯 功能概述

系统现在包含完整的试用期管理功能，提供多种方式访问和管理验证码：

### ✅ 已添加的功能
1. **首页试用期管理按钮** - 橙色"试用期管理"按钮
2. **试用期状态显示** - 标题栏显示剩余天数
3. **快速验证码输入** - 弹窗模式快速输入
4. **完整管理页面** - 专门的试用期管理界面
5. **测试功能页面** - 用于测试和调试

## 🔧 访问方式

### 1. 首页快速访问
- **试用期管理按钮**：点击首页橙色"试用期管理"按钮
  - 选择"确定"：打开快速验证码输入弹窗
  - 选择"取消"：跳转到完整管理页面

- **试用期状态显示**：点击标题栏的试用期状态
  - 显示剩余天数或到期提示
  - 点击可快速访问验证码输入

### 2. 直接访问链接
- **主页**：`http://localhost:5000/`
- **试用期管理**：`http://localhost:5000/trial`
- **功能测试**：`http://localhost:5000/test_trial`

## 🔑 验证码信息

### 延期验证码（10个）
每个验证码可延长试用期30天，只能使用一次：
```
EXTEND2025A1  EXTEND2025B2  EXTEND2025C3  EXTEND2025D4  EXTEND2025E5
EXTEND2025F6  EXTEND2025G7  EXTEND2025H8  EXTEND2025I9  EXTEND2025J0
```

### 解锁验证码（1个）
永久解锁系统，无使用限制：
```
UNLOCK2025FOREVER
```

## 📱 用户界面说明

### 1. 首页界面
- **标题栏**：显示试用期状态（剩余天数或到期提示）
- **控制面板**：包含橙色"试用期管理"按钮
- **快速弹窗**：点击按钮可选择快速输入或完整页面

### 2. 试用期管理页面
- **状态显示**：详细的试用期信息
- **验证码输入**：专门的输入界面
- **实时反馈**：验证结果即时显示
- **自动跳转**：验证成功后自动返回主页

### 3. 测试功能页面
- **状态检查**：实时查看试用期状态
- **验证码测试**：测试各种验证码
- **验证码列表**：显示所有可用验证码
- **快速链接**：方便的页面跳转

## 🚀 使用流程

### 正常使用流程
1. **首次启动**：系统自动开始30天试用期
2. **查看状态**：标题栏显示剩余天数
3. **继续使用**：试用期内所有功能正常可用

### 延期使用流程
1. **点击管理按钮**：选择快速输入或完整页面
2. **输入延期码**：使用 `EXTEND2025XX` 格式的验证码
3. **确认延期**：系统显示延期成功，增加30天
4. **继续使用**：延期后可正常使用所有功能

### 永久解锁流程
1. **访问管理页面**：通过按钮或直接链接
2. **输入解锁码**：使用 `UNLOCK2025FOREVER`
3. **确认解锁**：系统显示永久解锁成功
4. **无限制使用**：解锁后无任何时间限制

### 试用期到期处理
1. **自动跳转**：访问主页时自动跳转到管理页面
2. **功能限制**：无法启动测量功能
3. **输入验证码**：使用延期码或解锁码
4. **恢复使用**：验证成功后恢复所有功能

## ⚠️ 重要提示

### 验证码使用规则
- **延期码**：每个只能使用一次，使用后永久失效
- **解锁码**：使用后系统永久解锁
- **大小写**：验证码不区分大小写
- **保密性**：请妥善保管验证码，避免泄露

### 系统行为
- **状态保存**：试用期状态会持久保存
- **重启有效**：重启系统后状态保持不变
- **时间计算**：基于首次运行时间计算
- **防篡改**：使用二进制文件存储，防止简单修改

### 故障处理
- **文件丢失**：如果 `trial_info.dat` 丢失，系统会重新开始30天试用期
- **验证失败**：检查验证码输入是否正确
- **网络错误**：确保系统正常运行，检查浏览器控制台

## 🛠️ 管理工具

### 验证码管理
使用 `verification_code_manager.py` 工具：
- 生成新的验证码
- 检查验证码格式
- 导出验证码列表

### 系统状态检查
使用 `system_status_checker.py` 工具：
- 检查试用期状态
- 验证系统文件
- 生成状态报告

### 功能测试
使用测试脚本：
- `test_trial_system.py` - 完整功能测试
- `simple_trial_test.py` - 简化测试
- 访问 `/test_trial` 页面 - Web界面测试

## 📞 技术支持

### 常见问题
1. **Q: 如何查看剩余试用期？**
   A: 查看主页标题栏的状态显示，或访问试用期管理页面

2. **Q: 验证码输入后没有反应？**
   A: 检查验证码是否正确，确认网络连接正常

3. **Q: 系统重装后试用期重置了？**
   A: 这是正常现象，重装会删除试用期文件

4. **Q: 如何备份试用期状态？**
   A: 备份 `trial_info.dat` 文件即可

### 联系方式
如需获取验证码或遇到技术问题，请联系技术支持团队。

---

**注意**：本系统的试用期功能已完全集成到主程序中，所有功能都经过测试验证，可以正常使用。
